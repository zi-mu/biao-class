<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .yo-popup {
            position: fixed;
            background: #fff;
            border: 4px solid;
            padding: 30px;
            z-index: 1000;
        }

        .yo-mask {
            position: fixed;
            background: rgba(0, 0, 0, .7);
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 999;
        }
    </style>
</head>

<body>
    <button class="trigger">收藏</button>
    <div class="popup">确定收藏吗?</div>
    <div>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, magni error similique aliquid architecto
        consectetur at dolorum voluptatibus, maxime eos quia nisi totam pariatur facere possimus cupiditate ipsam vel
        dicta.
    </div>
</body>
<script>
    let popup, trigger, mask;

    boot('.trigger', '.popup');
    function boot(triggerSelector, popupSelector) {
        trigger = document.querySelector(triggerSelector);
        popup = document.querySelector(popupSelector);

        initPopup();
        initMask();
        bindOpen();
        bindClose();
    }

    function initPopup() {
        popup.hidden = true;
        popup.classList.add('yo-popup');
    }

    function initMask() {
        mask = document.createElement('div');
        mask.classList.add('yo-mask');
        mask.hidden = true;
        document.body.appendChild(mask);
    }

    function bindOpen() {
        trigger.addEventListener('click', () => {
            setVisibility(true);
            rePosition();
        })
    }

    function bindClose() {
        mask.addEventListener('click', () => {
            setVisibility(false);
        })
        window.addEventListener('keyup', () => {
            setVisibility(false);
        })
    }

    function setVisibility(show = true) {
        mask.hidden = popup.hidden = !show;
    }

    function rePosition() {
        let width = popup.offsetWidth;
        let height = popup.offsetHeight;
        let windowsWidth = window.innerWidth;
        let windowsHeight = window.innerHeight;

        popup.style.left = windowsWidth / 2 - width / 2 + 'px';
        popup.style.top = windowsHeight / 2 - height / 2 + 'px';
    }
</script>

</html>