<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .yo-popup {
            position: fixed;
            background: #fff;
            padding: 30px;
            border: 4px solid;
            z-index: 1000;
        }

        .yo-mask {
            position: fixed;
            background: rgba(0, 0, 0, .7);
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            z-index: 999;
        }

        .popup div {
            margin-bottom: 20px;
        }

        .popup {
            text-align: right;
        }

        .popup button {
            display: block;
            margin: 0 auto;
            width: 100%;
            padding: 5px;
        }
    </style>
</head>

<body>
    <button class="trigger">登录</button>
    <div class="popup">
        <form>
            <div>
                User Name:
                <input type="text">
            </div>
            <div>
                Password:
                <input type="password">
            </div>
            <div>
                <button type="submit">Submit</button>
            </div>
        </form>
    </div>
    <div>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium, fuga veritatis! Assumenda numquam debitis
        dolore. Voluptatem, ipsum quidem! Dicta, nesciunt dolorum? Quidem rerum reprehenderit voluptas velit ratione
        doloremque? Odit, laborum.
    </div>
</body>
<script>
    let trigger, popup, mask, config;
    let defalutConfig = {
        position: 'center',
        offsetY: 0,
        offsetX: 0,
        on: 'click',
        keyToHide: 'Escape',
    }

    boot('.trigger', '.popup', {});

    function boot(triggerSelector, popupSelector, custom = {}) {
        trigger = document.querySelector(triggerSelector);
        popup = document.querySelector(popupSelector);

        loadConfig(custom);
        initPopup();
        initMask();
        bindOpen();
        bindClose();
    }

    function loadConfig(custom) {
        config = Object.assign({}, defalutConfig, custom);
    }

    function initPopup() {
        popup.hidden = true;
        popup.classList.add('yo-popup');
    }

    function initMask() {
        mask = document.createElement('div');
        mask.classList.add('yo-mask');
        mask.hidden = true;
        document.body.appendChild(mask);
    }

    function bindOpen() {
        trigger.addEventListener(config.on, () => {
            setVisibility(true);
            rePositionPopup(config.position, config.offsetY, config.offsetX);
        })
    }

    function rePositionPopup(position = 'center', yOffset = 0, xOffset = 0) {
        let width = popup.offsetWidth;
        let height = popup.offsetHeight;
        let windowsWidth = window.innerWidth;
        let windowsHeight = window.innerHeight;

        if (!position.includes('-')) {
            if (position == 'left' || position == 'right')
                position += '-centery';
            else if (position == 'top' || position == 'bottom')
                position += '-centerx';
            else
                position = 'centerx-centery';
        }

        if (position.includes('centerx'))
            popup.style.left = windowsWidth / 2 - width / 2 + 'px';

        if (position.includes('centery'))
            popup.style.top = windowsHeight / 2 - height / 2 + 'px';

        if (position.includes('left'))
            popup.style.left = xOffset + 'px';

        if (position.includes('right'))
            popup.style.right = xOffset + 'px';

        if (position.includes('top'))
            popup.style.top = yOffset + 'px';

        if (position.includes('bottom'))
            popup.style.bottom = yOffset + 'px';

    }

    function bindClose() {
        mask.addEventListener(config.on, () => {
            setVisibility(false);
        })

        window.addEventListener('keyup', (e) => {
            if (e.key == config.keyToHide)
                setVisibility(false);
        })
    }

    function setVisibility(show = true) {
        mask.hidden = popup.hidden = !show;
    }
</script>

</html>