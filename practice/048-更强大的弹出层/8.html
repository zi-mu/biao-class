<style>
    .yo-popup {
        position: fixed;
        background: #fff;
        padding: 20px;
        border: 4px solid;
        z-index: 1000;
        width: 135px;
        height: 100px;
    }

    .yo-mask {
        position: fixed;
        background: rgba(0, 0, 0, .7);
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 999;
    }
</style>
<button class="trigger">弹出,调整</button>
<div class="popup" hidden>
    <button data-popup='top'>top</button>
    <button data-popup='left'>left</button>
    <button data-popup='right'>right</button>
    <button data-popup='bottom'>bottom</button>
    <button data-popup='top-left'>top-left</button>
    <button data-popup='top-right'>top-right</button>
    <button data-popup='center'>center</button>
    <button data-popup='bottom-left'>bottom-left</button>
    <button data-popup='bottom-right'>bottom-right</button>
</div>
<div>
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam fugit laboriosam, tenetur voluptatibus minima
    ipsum neque eius doloremque! Blanditiis quibusdam saepe tempora, sunt accusantium nisi ex earum exercitationem
    tempore id.
</div>
<script>
    let trigger, popup, mask, config;
    let defaultConfig = {
        position: 'center',
        offsetY: 0,
        offsetX: 0,
        on: 'click',
    };

    boot('.trigger', '.popup', {});

    function boot(triggerSelector, popupSelector, custom = {}) {
        trigger = document.querySelector(triggerSelector);
        popup = document.querySelector(popupSelector);

        loadConfig(custom);
        initPopup();
        initMask();
        bindOpen();
        bindClose();
    }

    function loadConfig(custom) {
        config = Object.assign({}, defaultConfig, custom);
    }

    function initPopup() {
        popup.hidden = true;
        popup.classList.add('yo-popup');
    }

    function initMask() {
        mask = document.createElement('div');
        mask.classList.add('yo-mask');
        mask.hidden = true;
        document.body.appendChild(mask);
    }
    function bindOpen() {
        trigger.addEventListener(config.on, () => {
            setVisibility(true);
            rePositionPopu(config.position, config.offsetY, config.offsetX);
        });
        btnPosition();
    }

    function btnPosition() {
        // 1
        popup.addEventListener(config.on, (e) => {
            rePositionPopu(e.target.dataset.popup);
        })

        // 2
        // let btns = popup.querySelectorAll('button');
        // btns.forEach(button => {
        //     button.addEventListener(config.on, (e) => {
        //         rePositionPopu(button.dataset.popup);
        //     })
        // });
    }

    function rePositionPopu(position = 'center', yOffset = 0, xOffset = 0) {
        let width = popup.offsetWidth;
        let height = popup.offsetHeight;
        let windowWidth = window.innerWidth;
        let windowHeight = window.innerHeight;

        if (!position.includes('-')) {
            if (position == 'left' || position == 'right')
                position += '-centery';
            else if (position == 'top' || position == 'bottom')
                position += '-centerx';
            else
                position = 'centerx-centery';
        }

        if (position.includes('centerx'))
            popup.style.left = windowWidth / 2 - width / 2 + xOffset + 'px';

        if (position.includes('centery'))
            popup.style.top = windowHeight / 2 - height / 2 + yOffset + 'px';

        if (position.includes('left'))
            popup.style.left = xOffset + 'px';

        if (position.includes('right')) {
            popup.style.left = 'auto';
            popup.style.right = xOffset + 'px';
        }

        if (position.includes('top'))
            popup.style.top = yOffset + 'px';

        if (position.includes('bottom')) {
            popup.style.top = 'auto';
            popup.style.bottom = yOffset + 'px';
        }
    }

    function bindClose() {
        mask.addEventListener(config.on, () => {
            setVisibility(false);
        });
        window.addEventListener('keyup', e => {
            if (e.key == 'Escape')
                setVisibility(false);
        })
    }

    function setVisibility(show = true) {
        mask.hidden = popup.hidden = !show;
    }
</script>